var orm = require("orm"),
    vows = require("vows"),
    assert = require("assert");

orm.connect("test://null", function (success, db) {
	var Person = db.define("person", {
		"name"		: { "type": "string" },
		"surname"	: { "type": "string", "def": "" },
		"age"		: { "type": "int" }
	}, {
		"methods"	: {
			"fullName" :function () {
				return this.name + " " + this.surname;
			}
		}
	});
	var john = new Person({
		"name"	: "John",
		"surnam": "Doe",
		"age"	: 18
	});
	vows.describe("John").addBatch({
		"John information..": {
			"topic": function () { return john.name; },
			"his name is John": function (topic) {
				assert.equal(topic, "John");
			}
		}
	});
});
